<!DOCTYPE html><html lang="it">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Gioco Carte Coppia</title>
<style>
  body { font-family: Arial, sans-serif; background: #f4f4f4; text-align: center; padding: 20px; }
  .mazzo-container { display: flex; justify-content: center; gap: 40px; margin-top: 20px; }
  .mazzo { background: #2c3e50; color: white; width: 120px; height: 180px; display: flex; align-items: center; justify-content: center; border-radius: 10px; box-shadow: 0 0 10px rgba(0,0,0,0.3); cursor: pointer; }
  .carta { background: white; color: black; border: 2px solid #2c3e50; }
  button { margin: 10px; padding: 10px 20px; border: none; border-radius: 5px; cursor: pointer; font-size: 16px; }
  button:hover { opacity: 0.9; }
  #azioni { margin-top: 20px; }
  #turnoInfo { font-size: 18px; margin-top: 15px; font-weight: bold; }
</style>
</head>
<body>
  <h1>Gioco Carte di Coppia</h1>
  <div id="turnoInfo">Turno 1 - Giocatore 1</div>
  <div class="mazzo-container">
    <div id="mazzo1" class="mazzo">Mazzo 1 (18)</div>
    <div id="mazzo2" class="mazzo">Mazzo 2 (18)</div>
  </div>
  <div id="azioni">
    <button id="scopri">Scopri Carte</button>
    <button id="scegliSinistra">Scegli Sinistra</button>
    <button id="scegliDestra">Scegli Destra</button>
    <button id="fineTurno">Fine Turno</button>
  </div>
  <textarea id="cardInput" style="width:300px;height:200px;display:none;">Sfida: Cala e Scopri
Sfida: Trentuno
Sfida: Bella a scopa
Sfida: Rigori
Sfida: Mazzo
Sfida: Tivit
Sfida: Corsa dei Cavalli
Sfida: Testa Croce
Sfida: Bandiere
Sfida: Canzone
Sfida: Tris
Sfida: Forza 4
Sfida: BlockBlast 5000
Sfida: Impiccato
Sfida: Numeri in Codice
Sfida: Formichina
Sfida: Planck
Sfida: Ruba Indumento
Sfida: Bacio Rubato
Sfida: Lunghezza d'onda(Indovina)
Sfida: Lunghezza d'onda(Scegli)
Sfida: Sfida Casuale
Sfida: Random Totale
Obbligo: shottino
Obbligo: shottini
Obbligo: Switch
Obbligo: Fai/Fate cosa di prima
Obbligo: Sceglie l'avversario
Obbligo: Il Migliore beve 1-2 shottino
Speciale: Switch
Speciale: Previsione
Speciale: Comando
Speciale: Sfida Precedente
Speciale: Cambio
Speciale: Blocco
Speciale: Scelta Finale</textarea><script>
let carteTotali = [];
let mazzo1 = [];
let mazzo2 = [];
let carteScelteGiocatore1 = [];
let carteScartateGiocatore1 = [];
let carteScelteGiocatore2 = [];
let carteScartateGiocatore2 = [];
let turno = 1;
let numeroTurno = 1;
let carta1 = null, carta2 = null;

function aggiornaTurnoInfo() {
  document.getElementById('turnoInfo').textContent = `Turno ${numeroTurno} - Giocatore ${turno}`;
}

function inizializzaMazzi() {
  carteTotali = document.getElementById('cardInput').value.trim().split('\n');
  carteTotali = carteTotali.sort(() => Math.random() - 0.5);
  mazzo1 = carteTotali.slice(0, 18);
  mazzo2 = carteTotali.slice(18, 36);
  aggiornaMazzi();
  aggiornaTurnoInfo();
}

function aggiornaMazzi() {
  document.getElementById('mazzo1').textContent = `Mazzo 1 (${mazzo1.length})`;
  document.getElementById('mazzo2').textContent = `Mazzo 2 (${mazzo2.length})`;
}

document.getElementById('scopri').onclick = () => {
  if (mazzo1.length && mazzo2.length) {
    carta1 = mazzo1[0];
    carta2 = mazzo2[0];
    document.getElementById('mazzo1').textContent = carta1;
    document.getElementById('mazzo1').classList.add('carta');
    document.getElementById('mazzo2').textContent = carta2;
    document.getElementById('mazzo2').classList.add('carta');
  }
};

document.getElementById('scegliSinistra').onclick = () => {
  if (!carta1 || !carta2) return;
  registraScelta(carta1, carta2);
};

document.getElementById('scegliDestra').onclick = () => {
  if (!carta1 || !carta2) return;
  registraScelta(carta2, carta1);
};

document.getElementById('fineTurno').onclick = () => {
  if (mazzo1.length > 0 && mazzo2.length > 0) {
    mazzo1.shift();
    mazzo2.shift();
  }
  carta1 = null;
  carta2 = null;
  document.getElementById('mazzo1').classList.remove('carta');
  document.getElementById('mazzo2').classList.remove('carta');
  aggiornaMazzi();
  turno = turno === 1 ? 2 : 1;
  numeroTurno++;
  aggiornaTurnoInfo();
  console.log(`Turno ${numeroTurno} - Giocatore ${turno}`);
};

function registraScelta(cartaScelta, cartaScartata) {
  if (turno === 1) {
    carteScelteGiocatore1.push(cartaScelta);
    carteScartateGiocatore1.push(cartaScartata);
  } else {
    carteScelteGiocatore2.push(cartaScelta);
    carteScartateGiocatore2.push(cartaScartata);
  }
  console.log(`Giocatore ${turno} ha scelto: ${cartaScelta} e scartato: ${cartaScartata}`);
}

window.onload = inizializzaMazzi;
</script></body>
</html>
