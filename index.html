<!DOCTYPE html><html lang="it">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>Gioco Carte Coppia</title>
<style>
  body {
    font-family: Arial, sans-serif;
    background-color: #f2f2f2;
    text-align: center;
    padding: 20px;
  }
  .mazzi {
    display: flex;
    justify-content: center;
    gap: 50px;
    margin-top: 20px;
  }
  .mazzo {
    background-color: #444;
    color: white;
    border-radius: 10px;
    width: 100px;
    height: 150px;
    display: flex;
    justify-content: center;
    align-items: center;
    font-size: 20px;
  }
  .carte-scoperte {
    display: flex;
    justify-content: center;
    gap: 50px;
    margin-top: 20px;
  }
  .carta {
    background-color: white;
    border: 2px solid #333;
    border-radius: 10px;
    width: 150px;
    height: 200px;
    display: flex;
    justify-content: center;
    align-items: center;
    font-size: 16px;
    font-weight: bold;
    padding: 10px;
  }
  button {
    margin: 10px;
    padding: 10px 20px;
    font-size: 16px;
  }
  #turnCounter {
    font-weight: bold;
    font-size: 18px;
    margin-top: 15px;
  }
  #scoreBoard {
    margin-top: 20px;
    font-size: 18px;
  }
</style>
</head>
<body>
<h1>Gioco Carte Coppia</h1>
<div id="turnCounter">Turno: 1 | Giocatore 1</div>
<div class="mazzi">
  <div id="mazzo1" class="mazzo">18</div>
  <div id="mazzo2" class="mazzo">18</div>
</div>
<div class="carte-scoperte">
  <div id="carta1" class="carta">?</div>
  <div id="carta2" class="carta">?</div>
</div>
<div>
  <button onclick="scopriCarte()">Scopri carte</button>
  <button onclick="scegliCarta('sinistra')">Scegli sinistra</button>
  <button onclick="scegliCarta('destra')">Scegli destra</button>
  <button onclick="fineTurno()">Fine turno</button>
</div>
<div id="scoreBoard">
  <p>Punteggio Giocatore 1: <span id="score1">0</span></p>
  <p>Punteggio Giocatore 2: <span id="score2">0</span></p>
  <button onclick="addPoint(1)">+1 Giocatore 1</button>
  <button onclick="addPoint(2)">+1 Giocatore 2</button>
</div><script>
const carte = [
  'Cala e Scopri','Trentuno','Bella a scopa','Rigori','Mazzo','Tivit','Corsa dei Cavalli','Testa Croce','Bandiere','Canzone','Tris','Forza 4','BlockBlast 5000','Impiccato','Numeri in Codice','Formichina','Planck','Ruba Indumento','Bacio Rubato','Lunghezza d\'onda(Indovina)','Lunghezza d\'onda(Scegli)','Sfida Casuale','Random Totale','shottino','shottini','Switch','Fai/Fate cosa di prima','Sceglie l\'avversario','Il Migliore beve 1-2 shottino','Switch','Previsione','Comando','Sfida Precedente','Cambio','Blocco','Scelta Finale'
];

let mazzo1 = [];
let mazzo2 = [];
let cartaSinistra = null;
let cartaDestra = null;
let turno = 1;
let giocatore = 1;
let scelte = {1: [], 2: []};
let scartate = {1: [], 2: []};
let score = {1: 0, 2: 0};

function mischia(array) {
  for (let i = array.length - 1; i > 0; i--) {
    const j = Math.floor(Math.random() * (i + 1));
    [array[i], array[j]] = [array[j], array[i]];
  }
  return array;
}

function inizializza() {
  const mazzoMischiato = mischia([...carte]);
  mazzo1 = mazzoMischiato.slice(0, 18);
  mazzo2 = mazzoMischiato.slice(18);
  aggiornaMazzi();
}

function aggiornaMazzi() {
  document.getElementById('mazzo1').innerText = mazzo1.length;
  document.getElementById('mazzo2').innerText = mazzo2.length;
}

function scopriCarte() {
  if (mazzo1.length === 0 || mazzo2.length === 0) {
    alert('Fine mazzi!');
    return;
  }
  cartaSinistra = mazzo1[mazzo1.length - 1];
  cartaDestra = mazzo2[mazzo2.length - 1];
  document.getElementById('carta1').innerText = cartaSinistra;
  document.getElementById('carta2').innerText = cartaDestra;
}

function scegliCarta(lato) {
  if (!cartaSinistra || !cartaDestra) {
    alert('Devi prima scoprire le carte!');
    return;
  }
  if (lato === 'sinistra') {
    scelte[giocatore].push(cartaSinistra);
    scartate[giocatore].push(cartaDestra);
  } else {
    scelte[giocatore].push(cartaDestra);
    scartate[giocatore].push(cartaSinistra);
  }
  fineTurno();
}

function fineTurno() {
  if (mazzo1.length > 0) mazzo1.pop();
  if (mazzo2.length > 0) mazzo2.pop();
  aggiornaMazzi();
  cartaSinistra = null;
  cartaDestra = null;
  document.getElementById('carta1').innerText = '?';
  document.getElementById('carta2').innerText = '?';
  turno++;
  giocatore = giocatore === 1 ? 2 : 1;
  document.getElementById('turnCounter').innerText = `Turno: ${turno} | Giocatore ${giocatore}`;
  if (turno % 6 === 0) {
    alert('Round Obbligo & Verit√†!');
  }
}

function addPoint(player) {
  score[player]++;
  document.getElementById(`score${player}`).innerText = score[player];
}

inizializza();
</script></body>
</html>
